# –ò—Ç–æ–≥–æ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ù–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- `pixelRatio`: 0.25 (–±—ã–ª–æ 0.3) - –µ—â–µ –º–µ–Ω—å—à–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç–∞
- `resizeRatio`: 0.35 (–±—ã–ª–æ 0.4) - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –¥–æ 35%
- `jpegQuality`: 60 (–±—ã–ª–æ 65) - –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ JPEG —Å–∂–∞—Ç–∏–µ
- `maxGifWidth`: 360 (–±—ã–ª–æ 400) - –∂–µ—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã
- `maxGifHeight`: 640 (–±—ã–ª–æ 800) - –∂–µ—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**: ~75-85% –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∂–∞—Ç—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ

- –ö–∞–¥—Ä—ã –Ω–µ —Ä–∞—Å—à–∏—Ä—è—é—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–æ –¥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —É–∂–µ —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –Ω–∞–ø—Ä—è–º—É—é
- –≠—Ç–æ –∫–ª—é—á–µ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ GIF

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–≤–∞–Ω—Ç–æ–≤–∫–∞ GIF

- –ö–≤–∞–Ω—Ç–æ–≤–∫–∞ –¥–æ 128 —Ü–≤–µ—Ç–æ–≤ (–≤–º–µ—Å—Ç–æ 256)
- –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–ª–∏—Ç—Ä—ã

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ò—Å—Ö–æ–¥–Ω—ã–π | –ü—Ä–µ–¥—ã–¥—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –¢–µ–∫—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
|----------|----------|------------------------|-------------------|
| pixelRatio | 0.5 | 0.3 | **0.25** |
| resizeRatio | 0.7 | 0.4 | **0.35** |
| jpegQuality | 88 | 65 | **60** |
| maxGifWidth | - | 400 | **360** |
| maxGifHeight | - | 800 | **640** |
| –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ | –î–∞ | –î–∞ | **–ù–µ—Ç** |
| –û–∂–∏–¥–∞–µ–º–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ | - | ~50-60% | **~75-85%** |

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –º–µ–Ω—å—à–µ)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ

```dart
ScreenRecorderController(
  pixelRatio: 0.2,              // –û—á–µ–Ω—å –Ω–∏–∑–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
  resizeRatio: 0.3,            // –£–º–µ–Ω—å—à–µ–Ω–∏–µ –¥–æ 30%
  jpegQuality: 55,              // –û—á–µ–Ω—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ
  maxGifWidth: 300,             // –ñ–µ—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  maxGifHeight: 500,
  skipFramesBetweenCaptures: 3, // –ë–æ–ª—å—à–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤
)
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ**: ~85-90%

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–ª—è –∑–∞–ø–∏—Å–∏ —Ç–µ–∫—Å—Ç–∞ (–Ω—É–∂–Ω–æ —á–∏—Ç–∞–µ–º–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)

```dart
ScreenRecorderController(
  pixelRatio: 0.3,
  resizeRatio: 0.5,             // –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
  jpegQuality: 70,              // –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —Ç–µ–∫—Å—Ç–∞
  maxGifWidth: 400,
  maxGifHeight: 700,
  skipFramesBetweenCaptures: 2,
)
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ**: ~60-70% (–Ω–æ —Ç–µ–∫—Å—Ç –æ—Å—Ç–∞–µ—Ç—Å—è —á–∏—Ç–∞–µ–º—ã–º)

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ë–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞

```dart
ScreenRecorderController(
  pixelRatio: 0.3,
  resizeRatio: 0.4,
  jpegQuality: 65,
  maxGifWidth: 400,
  maxGifHeight: 700,
  skipFramesBetweenCaptures: 2,
)
```

**–û–∂–∏–¥–∞–µ–º–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ**: ~70-75%

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–¥—Ä–∞:

```
1. –ó–∞—Ö–≤–∞—Ç: toImageSync(pixelRatio: 0.25)
   ‚Üì –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–º–µ–Ω—å—à–µ–Ω–æ –≤ 4 —Ä–∞–∑–∞
   
2. PNG –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è: toByteData(ImageByteFormat.png)
   ‚Üì –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
   
3. PNG –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: decodePng()
   ‚Üì –ü–æ–ª—É—á–∞–µ–º image.Image
   
4. –†–µ—Å–∞–π–∑: copyResize(35% –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)
   ‚Üì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ
   
5. JPEG —Å–∂–∞—Ç–∏–µ: encodeJpg(quality: 60)
   ‚Üì –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ
   
6. –•—Ä–∞–Ω–µ–Ω–∏–µ: CompressedFrame (—Ç–æ–ª—å–∫–æ JPEG –±–∞–π—Ç—ã)
   ‚Üì –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
   
7. –ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ: –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∂–∞—Ç—ã–µ —Ä–∞–∑–º–µ—Ä—ã –Ω–∞–ø—Ä—è–º—É—é
   ‚Üì –ë–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ
   
8. GIF –∫–≤–∞–Ω—Ç–æ–≤–∫–∞: 128 —Ü–≤–µ—Ç–æ–≤
   ‚Üì –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —Å–∂–∞—Ç–∏–µ**: pixelRatio ‚Üí resizeRatio ‚Üí JPEG ‚Üí GIF –∫–≤–∞–Ω—Ç–æ–≤–∫–∞
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∂–∞—Ç—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤**: –Ω–µ —Ä–∞—Å—à–∏—Ä—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ
3. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
4. **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏**: –∫–∞–¥—Ä—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ JPEG, –∞ –Ω–µ –ø–æ–ª–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–ª—è –∑–∞–ø–∏—Å–∏ 10 —Å–µ–∫—É–Ω–¥ (–ø—Ä–∏–º–µ—Ä–Ω–æ 5 –∫–∞–¥—Ä–æ–≤ –ø—Ä–∏ skipFrames=2):

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | –ö–∞—á–µ—Å—Ç–≤–æ |
|-----------|--------------|----------|
| –ò—Å—Ö–æ–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ | ~5-10 –ú–ë | –û—Ç–ª–∏—á–Ω–æ–µ |
| –ü—Ä–µ–¥—ã–¥—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | ~2-4 –ú–ë | –•–æ—Ä–æ—à–µ–µ |
| **–¢–µ–∫—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** | **~0.5-1.5 –ú–ë** | **–ü—Ä–∏–µ–º–ª–µ–º–æ–µ** |

### –î–ª—è –∑–∞–ø–∏—Å–∏ 1 –º–∏–Ω—É—Ç—ã (–ø—Ä–∏–º–µ—Ä–Ω–æ 30 –∫–∞–¥—Ä–æ–≤):

| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | –ö–∞—á–µ—Å—Ç–≤–æ |
|-----------|--------------|----------|
| –ò—Å—Ö–æ–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ | ~30-60 –ú–ë | –û—Ç–ª–∏—á–Ω–æ–µ |
| –ü—Ä–µ–¥—ã–¥—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | ~10-20 –ú–ë | –•–æ—Ä–æ—à–µ–µ |
| **–¢–µ–∫—É—â–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** | **~3-8 –ú–ë** | **–ü—Ä–∏–µ–º–ª–µ–º–æ–µ** |

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ö–∞—á–µ—Å—Ç–≤–æ vs –†–∞–∑–º–µ—Ä**: –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ = –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä, –Ω–æ –Ω–∏–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ
2. **–¢–µ–∫—Å—Ç**: –î–ª—è –∑–∞–ø–∏—Å–∏ —Ç–µ–∫—Å—Ç–∞ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å `jpegQuality` –¥–æ 70-75
3. **–ê–Ω–∏–º–∞—Ü–∏–∏**: –î–ª—è –ø–ª–∞–≤–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —É–º–µ–Ω—å—à–∏—Ç—å `skipFramesBetweenCaptures`
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –≤–∞—à–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –æ–Ω–∏ —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã:

```dart
ScreenRecorderWrapper(
  pixelRatio: 0.25,  // –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  skipFramesBetweenCaptures: 2,
  child: YourApp(),
)
```

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –º–µ–Ω—å—à–µ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 2 –∏–ª–∏ 3.

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- `ADDITIONAL_OPTIMIZATION_OPTIONS.md` - –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–¥–µ–ª—å—Ç–∞-—Å–∂–∞—Ç–∏–µ, WebP –∏ —Ç.–¥.)
- `NEW_OPTIMIZATION_APPROACH.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
- `OPTIMIZATION_GUIDE.md` - –æ–±—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
